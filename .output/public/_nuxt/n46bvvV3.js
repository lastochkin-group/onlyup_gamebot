import{_ as B}from"./ahfLY3VA.js";import{o as r,c as d,b as t,u as _,w as i,t as p,s as $,T as f,r as v,f as C,v as S,B as g,a as e,C as j,D as I,E as h,G as M,q as N,F as x,x as O,y as q,z,A as E,m as D}from"./BXZZlt97.js";import{I as m,_ as T}from"./BYR3OP3I.js";import{_ as V}from"./BGOsdK5z.js";import"./d5avr8EN.js";const L={class:"bg-secondary_bg_color relative flex justify-center aspect-square items-center rounded-3xl"},A={key:0,class:"w-10 absolute z-[2] -bottom-4 right-0 aspect-square rounded-full flex justify-center items-center bg-accent_gradient font-bold text-accent_text_color"},F={__name:"InventoryItem",props:{count:{type:Number,default:1}},setup(o){return(s,a)=>(r(),d("button",L,[t(_(m),{icon:"tabler:jetpack-filled",class:"text-[52px] text-accent_color"}),t(f,{name:"bounce",appear:""},{default:i(()=>[o.count>0?(r(),d("span",A,p(o.count),1)):$("",!0)]),_:1})]))}},G={class:"absolute inset-x-0 bottom-6 bg-bg_color transform flex flex-col h-80 rounded-3xl mx-4"},R={class:"overflow-y-auto flex-grow p-4"},U={__name:"Modal",props:{isOpen:{type:Boolean,default:!1}},emits:["close"],setup(o,{emit:s}){const a=o,l=s,c=v(a.isOpen);C(()=>a.isOpen,u=>{c.value=u});const n=()=>{c.value=!1,l("close")};return(u,b)=>(r(),S(M,{to:"body"},[t(f,{name:"fade"},{default:i(()=>[g(e("div",{class:"fixed inset-0 z-50 bg-[#00000030]",onClick:j(n,["self"])},[t(f,{name:"slide-bottom"},{default:i(()=>[g(e("div",G,[e("div",{class:"z-10 aspect-square flex h-14 justify-center items-center absolute right-0 top-0 rounded-2xl text-xl",onClick:n},[t(_(m),{icon:"mingcute:close-fill"})]),e("div",R,[I(u.$slots,"default")])],512),[[h,c.value]])]),_:3})],512),[[h,c.value]])]),_:3})]))}},H={class:"rounded-2xl h-24 aspect-square shrink-0 flex justify-center items-center"},J={class:"flex flex-col items-start gap-y-2 w-full"},K={class:"font-bold line-clamp-1"},P={class:"text-sm line-clamp-2"},Q={class:"flex gap-x-1 mt-1 items-center bg-pay_gradient rounded-2xl h-10 w-full justify-center text-accent_text_color font-bold"},W={class:"flex gap-x-1 items-center"},X={__name:"StoreItem",props:{title:{type:String,default:"Title"},description:{type:String,default:"Description"},price:{type:Number,default:1},sale:{type:Boolean,default:!1}},setup(o){const s=v(!1),a=()=>{s.value=!s.value};return(l,c)=>{const n=U;return r(),d(x,null,[t(n,{isOpen:s.value,onClose:a},null,8,["isOpen"]),e("div",{class:N(["flex overflow-clip",o.sale&&"p-1 scale-[102%]"])},[e("button",{onClick:a,class:"flex relative items-center p-4 rounded-3xl bg-secondary_bg_color gap-x-4 w-full"},[e("span",H,[t(_(m),{icon:"tabler:jetpack-filled",class:"text-[52px] text-accent_color"})]),e("div",J,[e("h4",K,p(o.title),1),e("span",P,p(o.description),1),e("button",Q,[e("div",W,[e("span",null,p(o.price.toLocaleString("en-EN")),1),t(_(m),{icon:"ic:round-star",class:"text-lg"})])])])])],2)],64)}}},Y={class:"flex flex-col gap-y-6"},Z={class:"flex justify-between items-center px-4"},ee={class:"grid grid-cols-3 gap-2"},te={class:"flex flex-col gap-y-2"},ie={__name:"store",setup(o){const s=O().$webapp,a=E(),l=()=>{window.history.length>1&&a.go(-1)};return q(()=>{s.onEvent("backButtonClicked",l),s.BackButton.show()}),z(()=>{s.offEvent("backButtonClicked",l),s.BackButton.hide()}),(c,n)=>{const u=B,b=F,y=X,w=V,k=T;return r(),d(x,null,[t(f,{name:"fade",appear:""},{default:i(()=>[e("div",Y,[e("div",Z,[n[0]||(n[0]=e("h4",{class:"text-lg font-bold uppercase"},"Inventory:",-1)),t(u)]),e("div",ee,[(r(),d(x,null,D(4,se=>t(b)),64))]),n[1]||(n[1]=e("div",{class:"flex justify-between items-center px-4"},[e("h4",{class:"text-lg font-bold uppercase"},"Special offers:")],-1)),e("div",te,[t(y,{sale:!0})])])]),_:1}),t(k,null,{default:i(()=>[t(f,{name:"slide-fade",mode:"out-in"},{default:i(()=>[t(w,{onMainClick:l,title:"Back"})]),_:1})]),_:1})],64)}}};export{ie as default};
